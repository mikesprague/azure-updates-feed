# azure-updates-feed

[![Build Azure Updates Feed](https://github.com/mikesprague/azure-updates-feed/actions/workflows/build-feed.yml/badge.svg)](https://github.com/mikesprague/azure-updates-feed/actions/workflows/build-feed.yml)

Workflow and script that collects the current list of [Azure Updates](https://azure.microsoft.com/en-us/updates/) and then generates and serves an RSS feed from that list.

## Motivation

For some time now, the Azure Updates page has not had a working RSS feed (note from that page below).

> Azure Updates website is undergoing maintenance. During this time, you may notice limited functionality
> affecting RSS feeds and search features. We apologize for any inconvenience this may cause. Thank you
> for your patience and understanding.

We support a large number of Azure subscriptions at my day job and recently learned of a change from
a customer who found some new features we were unaware of. I created this script so we can keep up with
the latest updates without having to manually check the page every day. If/when the RSS feed on that page
gets fixed, I will likely stop maintaining this repo.

## Contents

- `./src/index.ts`
  - main script
- `./package.json`/`./package-lock.json`
  - script dependencies and dev config
- `./docs/` (served via HTTPS by GH Pages)
  - `./docs/feed/index.rss`
    - RSS file generated by script
    - <https://mikesprague.github.io/azure-updates-feed/rss/feed.rss>
  - `./docs/json/index.json`
    - JSON file generated and used by script
    - <https://mikesprague.github.io/azure-updates-feed/json/>
  - `./docs/docs/`
    - Typedoc generated files for script
    - <https://mikesprague.github.io/azure-updates-feed/docs/>
- `./.github/dependabot.yml`
  - Dependabot config set to check daily for GH Actions and npm dependency updates
- `./.github/workflows/dependabot-auto-merge.yml`
  - GH Action Workflow used to auto-merge Dependabot PRs
- `./.github/workflows/build-feed.yml`
  - GH Action Workflow used to execute script/update repo
- Misc Development Related Files
  - Docker-related files included to help with local dev
    - `./Dockerfile`
    - `./.dockerignore`
    - `./docker-compose.yml`
  - Config files
    - `./.editorConfig`
    - `./.gitignore`
    - `./biome.json`
    - `./tsconfig.json`

## Prerequisites

To run locally for testing, development, etc.

- Node.js >= v20.x (with npm >= v10.x)

OR

- Docker

## Behavior

1. Script makes HTTP call to Azure Updates page and checks for updates to the page since the last time it ran
1. Script outputs an RSS feed
    - RSS is served via GH Pages
1. Script outputs a JSON file
    - JSON is used by the script and served via GH Pages
1. Script only updates (writes new files) if the content has been updated.

## Local Development

- via Node.js/npm
  1. Install dependencies
      - `npm install`
  1. Execute script
      - `npm run dev` (or `npm start`)
- via Docker/docker-compose
  - `docker-compose up`
  - notes:
    - installs dependencies automatically while bringing container up
    - run to cleanup when you are done
      - `docker-compose down --rmi 'all'`
    - if both Docker and Node are installed, you can optionally use
      - `npm run docker-up`
        - the above command will  automatically call `npm run postdocker-up` when done and clean up after itself
